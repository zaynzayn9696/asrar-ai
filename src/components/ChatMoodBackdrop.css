/* src/components/ChatMoodBackdrop.css */

.chat-mood-backdrop {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  overflow: hidden;
}

.chat-mood-layer {
  position: absolute;
  inset: 0;
  mix-blend-mode: screen;
}

/* Base: slow gradient drift (hero-inspired) */
.chat-mood-layer--base {
  background:
    radial-gradient(120% 120% at 20% 10%, rgba(44, 120, 200, 0.22), transparent 55%),
    radial-gradient(120% 120% at 80% 20%, rgba(200, 120, 200, 0.2), transparent 60%),
    linear-gradient(135deg, #04060f 0%, #060a18 50%, #03040b 100%);
  animation: hero-base-drift 24s ease-in-out infinite alternate;
  opacity: 0.75;
}

/* Glow: soft pulses similar to hero mist */
.chat-mood-layer--glow {
  background:
    radial-gradient(120% 80% at 30% 40%, rgba(120, 200, 255, 0.22), transparent 65%),
    radial-gradient(110% 90% at 70% 60%, rgba(255, 180, 230, 0.18), transparent 70%);
  filter: blur(10px);
  opacity: 0.35;
  animation: hero-glow-pulse 18s ease-in-out infinite;
}

/* Particles: faint moving dots/lines */
.chat-mood-layer--particles {
  background:
    radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.08), transparent 38%),
    radial-gradient(circle at 80% 25%, rgba(200, 235, 255, 0.07), transparent 42%),
    radial-gradient(circle at 55% 70%, rgba(180, 210, 255, 0.05), transparent 45%);
  opacity: 0.28;
  animation: hero-particles-drift 20s ease-in-out infinite;
}

/* Mood tints: colorized overlays */
.chat-mood-backdrop--sad .chat-mood-layer--base {
  background:
    radial-gradient(120% 120% at 20% 10%, rgba(70, 110, 180, 0.32), transparent 55%),
    radial-gradient(120% 120% at 80% 20%, rgba(40, 70, 140, 0.28), transparent 60%),
    linear-gradient(145deg, #050a16 0%, #0a1024 55%, #060a16 100%);
}

.chat-mood-backdrop--sad .chat-mood-layer--particles {
  background:
    repeating-linear-gradient(180deg, rgba(140, 180, 230, 0.08) 0px, rgba(140, 180, 230, 0.08) 16px, transparent 20px, transparent 44px),
    radial-gradient(circle at 25% 35%, rgba(160, 200, 240, 0.06), transparent 40%),
    radial-gradient(circle at 65% 65%, rgba(120, 160, 220, 0.05), transparent 45%);
  animation:
    hero-rain 14s linear infinite,
    hero-particles-drift 18s ease-in-out infinite;
}

.chat-mood-backdrop--anxious .chat-mood-layer--base {
  background:
    radial-gradient(120% 120% at 20% 20%, rgba(70, 150, 170, 0.3), transparent 55%),
    radial-gradient(120% 120% at 80% 30%, rgba(30, 80, 100, 0.26), transparent 60%),
    linear-gradient(150deg, #041019 0%, #081624 55%, #050b14 100%);
}

.chat-mood-backdrop--anxious .chat-mood-layer--particles {
  background:
    linear-gradient(120deg, rgba(140, 200, 210, 0.1), transparent 65%),
    radial-gradient(circle at 70% 40%, rgba(180, 220, 240, 0.06), transparent 45%);
  animation:
    hero-wind 16s ease-in-out infinite,
    hero-particles-drift 16s ease-in-out infinite;
}

.chat-mood-backdrop--hopeful .chat-mood-layer--base,
.chat-mood-backdrop--happy .chat-mood-layer--base,
.chat-mood-backdrop--warm .chat-mood-layer--base {
  background:
    radial-gradient(120% 120% at 25% 20%, rgba(120, 230, 255, 0.26), transparent 60%),
    radial-gradient(110% 100% at 75% 35%, rgba(255, 180, 230, 0.24), transparent 65%),
    linear-gradient(145deg, #071224 0%, #0b1630 55%, #081020 100%);
  animation: hero-base-drift 22s ease-in-out infinite alternate;
}

.chat-mood-backdrop--hopeful .chat-mood-layer--glow,
.chat-mood-backdrop--happy .chat-mood-layer--glow,
.chat-mood-backdrop--warm .chat-mood-layer--glow {
  background:
    radial-gradient(140% 90% at 30% 40%, rgba(140, 230, 255, 0.22), transparent 60%),
    radial-gradient(120% 90% at 70% 60%, rgba(255, 200, 220, 0.18), transparent 65%);
  animation: hero-aurora 20s ease-in-out infinite alternate;
  opacity: 0.38;
}

.chat-mood-backdrop--calm .chat-mood-layer--base,
.chat-mood-backdrop--neutral .chat-mood-layer--base {
  background:
    radial-gradient(110% 100% at 30% 30%, rgba(90, 140, 200, 0.2), transparent 60%),
    radial-gradient(120% 90% at 70% 50%, rgba(60, 110, 170, 0.16), transparent 65%),
    linear-gradient(140deg, #050a13 0%, #0a1220 55%, #050910 100%);
}

.chat-mood-backdrop--calm .chat-mood-layer--glow,
.chat-mood-backdrop--neutral .chat-mood-layer--glow {
  animation: hero-breathe 18s ease-in-out infinite;
  opacity: 0.32;
}

.chat-mood-backdrop--angry .chat-mood-layer--base {
  background:
    radial-gradient(130% 110% at 20% 25%, rgba(180, 60, 40, 0.24), transparent 60%),
    radial-gradient(120% 100% at 80% 30%, rgba(255, 120, 90, 0.2), transparent 65%),
    linear-gradient(150deg, #0b0608 0%, #15080c 55%, #080406 100%);
}

.chat-mood-backdrop--angry .chat-mood-layer--glow {
  background:
    radial-gradient(120% 100% at 120% 10%, rgba(255, 120, 90, 0.22), transparent 70%),
    radial-gradient(140% 120% at -20% 60%, rgba(180, 60, 40, 0.2), transparent 70%);
  animation: hero-glow-pulse 16s ease-in-out infinite;
  opacity: 0.32;
}

.chat-mood-backdrop--tired .chat-mood-layer--base {
  background:
    radial-gradient(120% 100% at 40% 80%, rgba(140, 160, 190, 0.22), transparent 65%),
    radial-gradient(120% 90% at 70% 70%, rgba(90, 110, 140, 0.18), transparent 70%),
    linear-gradient(160deg, #060910 0%, #0b0f18 55%, #060810 100%);
}

.chat-mood-backdrop--tired .chat-mood-layer--glow {
  filter: blur(16px);
  opacity: 0.28;
  animation: hero-mist 24s ease-in-out infinite alternate;
}

/* Keyframes adapted from hero */
@keyframes hero-base-drift {
  0% {
    transform: translate3d(-3%, -2%, 0) scale(1.02);
  }
  50% {
    transform: translate3d(4%, 3%, 0) scale(1.04);
  }
  100% {
    transform: translate3d(-2%, 2%, 0) scale(1.02);
  }
}

@keyframes hero-glow-pulse {
  0%, 100% {
    opacity: 0.32;
    transform: scale(1);
  }
  50% {
    opacity: 0.48;
    transform: scale(1.05);
  }
}

@keyframes hero-particles-drift {
  0% {
    transform: translate3d(-4px, -6px, 0);
  }
  50% {
    transform: translate3d(8px, 10px, 0);
  }
  100% {
    transform: translate3d(-6px, -4px, 0);
  }
}

@keyframes hero-rain {
  0% {
    transform: translate3d(0, -20%, 0);
  }
  100% {
    transform: translate3d(0, 30%, 0);
  }
}

@keyframes hero-wind {
  0% {
    transform: translate3d(-12px, 0, 0);
    opacity: 0.26;
  }
  50% {
    transform: translate3d(14px, 0, 0);
    opacity: 0.4;
  }
  100% {
    transform: translate3d(-12px, 0, 0);
    opacity: 0.26;
  }
}

@keyframes hero-aurora {
  0% {
    background-position: 10% 30%;
  }
  50% {
    background-position: 80% 60%;
  }
  100% {
    background-position: 20% 40%;
  }
}

@keyframes hero-breathe {
  0%, 100% {
    opacity: 0.3;
    transform: scale(1);
  }
  50% {
    opacity: 0.42;
    transform: scale(1.05);
  }
}

@keyframes hero-mist {
  0% {
    transform: translate3d(0, 6px, 0);
    opacity: 0.28;
  }
  50% {
    transform: translate3d(0, -8px, 0);
    opacity: 0.36;
  }
  100% {
    transform: translate3d(0, 4px, 0);
    opacity: 0.28;
  }
}

/* Reduced motion: disable animation only when requested */
@media (prefers-reduced-motion: reduce) {
  .chat-mood-backdrop,
  .chat-mood-backdrop::before,
  .chat-mood-backdrop::after,
  .chat-mood-layer {
    animation: none !important;
    transform: none !important;
    transition: none !important;
  }
}

.asrar-chat-messages {
  position: relative;
  z-index: 1;
}
